# 作用域

规定变量访问范围的规则
变量（变量作用域又称上下文）和函数生效（能被访问）的区域或集合
换句话说，作用域决定了代码区块中变量和其他资源的可见性

## 分类

我们一般将作用域分为：

- 全局作用域

> 任何不再函数中或是大括号中声明的变量，都是在全局作用域下，全局作用域下声明的变量可以在程序的任意位置访问

- 函数作用域

函数作用域也叫局部作用域，如果一个变量是在函数内部声明的它就在一个函数作用域下面。这些变量只能在函数内部访问，不能在函数意外去访问

- 块级作用域

ES6引入了`let`和`const`关键字，和var关键字不同，在大括号中使用`let`和`const`声明的变量存在于块级作用域中。在大括号之前不能访问这些变量

## 词法作用域

词法作用域，又叫静态作用域，变量被创建时就确定好了，而非执行阶段确定的。也就是说我们写好代码时它的作用域就确定了，`JavaScript`遵循的就是词法作用域

## 作用域链

作用域链是由当前执行环境与上层执行环境的一系列变量对象组成的，它保证了当前执行环境对符合访问权限的变量和函数的有序访问
`scopeChain`其实是在创建函数的时候确定的

当在`JavaScript`中使用一个变量的时候，首先`JavaScript`引擎会尝试在当前作用域下去寻找该变量，如果没找到，再到它的上层作用域寻找，以此类推直到找到该变量或是已经到了全局作用域，如果再全局作用域里仍然找不到改变量，它就会在全局范围内隐式声明该变量（非严格模式下）或是直接报错

```js
    console.log(a);
    var a = 0;
    console.log(a);
    if (true) {
        console.log(a);
        a = 1;

        function a() {}
        console.log(a);
        a = 21;
        console.log('after 21', a);
    }
    console.log('end', a);
```

```js

    var myname = "极客时间"
    function showName() {
        console.log(myname);
        if (0) {
            var myname = "极客邦"
        }
        console.log(myname);
    }
    showName()

```